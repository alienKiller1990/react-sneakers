{"version":3,"sources":["component/Drawer/Drawer.module.scss","component/Card/Card.module.scss","component/hooks/useCart.js","component/Info.jsx","component/Drawer/index.js","component/Header.jsx","component/Card/index.js","pages/Favorites.jsx","pages/Home.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","useCart","React","useContext","AppContext","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","Info","title","image","description","setCartOpened","className","width","src","alt","onClick","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","items","onRemove","opened","useState","isOrderComplete","setIsOrderComplete","orderId","setOrderId","isLoading","setIsLoading","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","styles","overlay","overlayVisible","drawer","map","style","backgroundImage","imgUrl","disabled","Header","onClickCart","to","height","Card","onPlus","onFavorite","favorited","loading","isItemsAdded","isFavorite","setIsFavorite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","plus","Favorites","favorites","onAddToFavorite","console","log","Home","searchValue","setSearchValue","onChangeSearchInput","onAddToCart","onChange","placeholder","value","filtredItems","filter","toLowerCase","includes","Array","index","renderItems","Orders","orders","setOrders","useEffect","get","prev","createContext","App","setItems","setFavorites","cartOpened","document","querySelector","overflow","all","cartResponse","favoritesResponse","itemsResponse","fetchData","findItem","find","Number","favObj","Provider","some","error","path","exact","event","target","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.004fb3e2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__1ipn4\",\"overlayVisible\":\"Drawer_overlayVisible__1lSTN\",\"drawer\":\"Drawer_drawer__3Lyoe\",\"items\":\"Drawer_items__2xtwJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__4pCaa\",\"plus\":\"Card_plus__C8FsX\",\"favorite\":\"Card_favorite__3fFkP\"};","import React from \"react\";\r\nimport { AppContext } from \"../../App\";\r\n\r\n\r\nexport const useCart = () => {\r\n    const { cartItems, setCartItems } = React.useContext(AppContext);\r\n    const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0);\r\n\r\n    return {cartItems, setCartItems, totalPrice};\r\n}","import React from 'react'\r\nimport { AppContext } from '../App'\r\n\r\nfunction Info({ title, image, description }) {\r\n    const { setCartOpened} = React.useContext(AppContext)\r\n\r\n    return (\r\n        <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n            <img className=\"mb-20\" width={120}  src={image} alt=\"Empty\" />\r\n            <h2>{title}</h2>\r\n            <p className=\"opacity-6\">{description}</p>\r\n            <button\r\n                onClick={() => setCartOpened(false)}\r\n                className=\"greenButton\">\r\n                <img src=\"/img/arrow-right.svg\" alt=\"Arrow\" />\r\n                Вернуться назад\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Info\r\n","import axios from 'axios';\r\nimport React from 'react'\r\n\r\nimport { useCart } from '../hooks/useCart';\r\nimport Info from '../Info';\r\n\r\nimport styles from './Drawer.module.scss'\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms))\r\n\r\nfunction Drawer({ onClose, items = [], onRemove, opened }) {\r\n\r\n    const {cartItems, setCartItems, totalPrice} = useCart();\r\n    const [isOrderComplete, setIsOrderComplete] = React.useState(false);// товар заказан ?\r\n    const [orderId, setOrderId] = React.useState(null);\r\n    const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n    const onClickOrder = async () => {\r\n        try {\r\n            setIsLoading(true)\r\n            const { data } = await axios.post('https://6147374665467e0017384aa5.mockapi.io/order', {\r\n                items: cartItems\r\n            });\r\n\r\n            setOrderId(data.id)\r\n            setIsOrderComplete(true);\r\n            setCartItems([]);\r\n\r\n            for (let i = 0; i < cartItems.length; i++) {\r\n                const item = cartItems[i];\r\n                await axios.delete('https://6147374665467e0017384aa5.mockapi.io/cart/' + item.id);\r\n                await delay(1000)\r\n            }\r\n\r\n        } catch (error) {\r\n            alert('Не удалось создать заказ :(')\r\n        }\r\n        setIsLoading(false)\r\n    }\r\n\r\n    return (\r\n        <div className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`}>\r\n\r\n            <div className={styles.drawer}>\r\n                <h2 className=\"mb-30 d-flex justify-between\">\r\n                    Корзина\r\n                    <img\r\n                        onClick={onClose}\r\n                        className=\"removeBtn cu-p\"\r\n                        src=\"/img/button-remove.svg\"\r\n                        alt=\"Remove\" />\r\n                </h2>\r\n\r\n                {\r\n                    items.length > 0\r\n                        ?\r\n                        <div className=\"flex-column d-flex justify-between h100p\">\r\n                            <div className=\"items flex \">\r\n                                {items.map((obj, id) => (\r\n                                    <div className=\"cartItem d-flex align-center mb-20\" key={`${obj}_${id}`}>\r\n                                        <div\r\n                                            style={{ backgroundImage: `url(${obj.imgUrl})` }}\r\n                                            className=\"cartItemImg\">\r\n                                        </div>\r\n                                        <div className=\"mr-20 flex\">\r\n                                            <p className=\"mb-5\">{obj.title}</p>\r\n                                            <b>{obj.price} руб.</b>\r\n                                        </div>\r\n                                        <img\r\n                                            onClick={() => onRemove(obj.id)}\r\n                                            className=\"removeBtn\"\r\n                                            src=\"/img/button-remove.svg\"\r\n                                            alt=\"Remove\" />\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                            <div className=\"cartTotalBlock\">\r\n                                <ul>\r\n                                    <li className=\"d-flex\">\r\n                                        <span>Итого:</span>\r\n                                        <div></div>\r\n                                        <b>{totalPrice} руб. </b>\r\n                                    </li>\r\n                                    <li className=\"d-flex\">\r\n                                        <span>Налог 5%:</span>\r\n                                        <div></div>\r\n                                        <b>{totalPrice / 100 * 5} руб. </b>\r\n                                    </li>\r\n                                </ul>\r\n                                <button disabled={isLoading} onClick={onClickOrder} className=\"greenButton\">\r\n                                    Оформить заказ\r\n                                    <img src=\"/img/arrow-right.svg\" alt=\"arrow\" />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        :\r\n                        <Info\r\n                            title={isOrderComplete ? \"Заказ оформлен!\" : \"Корзина пустая\"}\r\n                            description={isOrderComplete\r\n                                ? `Ваш заказ ${orderId} скоро будет передан курьерской доставке`\r\n                                : \"Добавьте хотя бы пару кроссовок, чтобы сделать заказ.\"}\r\n                            image={isOrderComplete ? \"/img/complete-order.jpg\" : \"/img/empty-cart.jpg\"} />\r\n\r\n                }\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Drawer\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useCart } from './hooks/useCart';\r\n\r\nfunction Header({ onClickCart }) {\r\n    const {totalPrice } = useCart();\r\n    return (\r\n        <header className=\"d-flex justify-between align-center p-40\">\r\n            <Link to=\"/\">\r\n                <div className=\"d-flex align-center\">\r\n                    <img src=\"/img/logo.png\" alt=\"logo\" width={40} height={40} />\r\n                    <div>\r\n                        <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n                        <p>Магазин лучших кроссовок</p>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n\r\n\r\n            <ul className=\"d-flex\">\r\n                <li\r\n                    onClick={onClickCart}\r\n                    className=\"mr-30 cu-p\">\r\n                    <img src=\"/img/cart.svg\" alt=\"cart\" width={18} height={18} />\r\n                    <span>{totalPrice} руб.</span>\r\n                </li>\r\n                <li>\r\n                    <Link to=\"/favorites\">\r\n                        <img className=\"mr-30\" src=\"/img/heart.svg\" alt=\"cart\" width={18} height={18} />\r\n                    </Link>\r\n                </li>\r\n                <li>\r\n                    <Link to=\"/orders\">\r\n                        <img className=\"mr-30\" src=\"/img/user.svg\" alt=\"cart\" width={18} height={18} />\r\n                    </Link>\r\n                </li>\r\n\r\n            </ul>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react';\r\nimport styles from './Card.module.scss';\r\nimport ContentLoader from \"react-content-loader\"\r\nimport { AppContext } from '../../App'\r\n\r\n\r\nfunction Card({\r\n    id,\r\n    title,\r\n    price,\r\n    imgUrl,\r\n    onPlus,\r\n    onFavorite,\r\n    favorited = false,\r\n    loading = false\r\n}) {\r\n\r\n    const { isItemsAdded } = React.useContext(AppContext);\r\n    // const [isAdded, setIsAdded] = React.useState(added); // хук для смены иконки добавить в корзину / убрать из корзины\r\n    const [isFavorite, setIsFavorite] = React.useState(favorited) // хук для смены иконки добавить в ибранное / убрать\r\n    const obj = { id, parentId: id, title, imgUrl, price }\r\n\r\n    const onClickPlus = () => { // при клике на \"img\" запускаем \"onPlus\" из пропсов, и хук \"setIsAdded\" \r\n        onPlus(obj) // вспомогательная функция для хука, для смены иконки добавить в корзину / убрать из корзины\r\n        // setIsAdded(!isAdded)\r\n    }\r\n\r\n    const onClickFavorite = () => {\r\n        onFavorite(obj)\r\n        setIsFavorite(!isFavorite)\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className={styles.card}>\r\n            {\r\n                loading ?\r\n                    <ContentLoader\r\n                        speed={2}\r\n                        width={150}\r\n                        height={200}\r\n                        viewBox=\"0 0 150 187\"\r\n                        backgroundColor=\"#f3f3f3\"\r\n                        foregroundColor=\"#ecebeb\"\r\n                    >\r\n                        <rect x=\"270\" y=\"310\" rx=\"0\" ry=\"0\" width=\"8\" height=\"7\" />\r\n                        <rect x=\"148\" y=\"366\" rx=\"0\" ry=\"0\" width=\"1\" height=\"1\" />\r\n                        <rect x=\"200\" y=\"393\" rx=\"0\" ry=\"0\" width=\"0\" height=\"1\" />\r\n                        <rect x=\"0\" y=\"0\" rx=\"6\" ry=\"6\" width=\"150\" height=\"90\" />\r\n                        <rect x=\"0\" y=\"106\" rx=\"6\" ry=\"6\" width=\"150\" height=\"15\" />\r\n                        <rect x=\"0\" y=\"125\" rx=\"3\" ry=\"3\" width=\"90\" height=\"15\" />\r\n                        <rect x=\"0\" y=\"162\" rx=\"4\" ry=\"4\" width=\"80\" height=\"24\" />\r\n                        <rect x=\"112\" y=\"155\" rx=\"6\" ry=\"6\" width=\"32\" height=\"32\" />\r\n                    </ContentLoader> :\r\n                    <>\r\n                        {onFavorite && <div\r\n                            className={styles.favorite}>\r\n                            <img\r\n                                src={isFavorite ? \"/img/heart-liked.svg\" : \"/img/heart-unliked.svg\"}\r\n                                onClick={onClickFavorite}\r\n                                alt=\"heart-unliked\" />\r\n                        </div>}\r\n                        <img\r\n                            src={imgUrl}\r\n                            alt=\"sneakers\"\r\n                            width={133}\r\n                            height={112} />\r\n                        <h5>{title}</h5>\r\n                        <div className=\"d-flex justify-between align-center\">\r\n                            <div className=\"d-flex flex-column \">\r\n                                <span>Цена:</span>\r\n                                <b>{price} руб.</b>\r\n                            </div>\r\n                            {onPlus && <img\r\n                                className={styles.plus}\r\n                                onClick={onClickPlus}\r\n                                src={isItemsAdded(id) ? \"/img/button-checked.svg\" : \"/img/button-plus.svg\"}\r\n                                alt=\"Plus\"\r\n                            />}\r\n                        </div>\r\n                    </>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card","import React from 'react'\r\nimport { AppContext } from '../App'\r\nimport Card from '../component/Card'\r\n\r\nfunction Favorites() {\r\n    const { favorites, onAddToFavorite} = React.useContext(AppContext);\r\n    console.log(favorites)\r\n\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex align-center justify-between mb-40\">\r\n                <h1>Избранное</h1>\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">\r\n                {\r\n                    favorites.map((item, id) => (\r\n                        <Card\r\n                            favorited={true}\r\n                            onFavorite={onAddToFavorite}\r\n                            key={`${item.title}_${id}`}\r\n                            {...item}\r\n                        />\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Favorites\r\n","import React from 'react'\r\nimport Card from \"../component/Card\";\r\n\r\n\r\nfunction Home({\r\n    searchValue,\r\n    setSearchValue, onChangeSearchInput,\r\n    items,\r\n    onAddToCart,\r\n    onAddToFavorite,\r\n    cartItems,\r\n    isLoading,\r\n}) {\r\n\r\n    const renderItems = () => {\r\n        const filtredItems = items.filter(item => item.title.toLowerCase().includes(searchValue.toLowerCase()));\r\n        \r\n        return (isLoading ? [...Array(10)] : filtredItems).map((item, index) => (\r\n            <Card\r\n                onPlus={(obj) => onAddToCart(obj)}\r\n                onFavorite={(obj) => onAddToFavorite(obj)}\r\n                key={`${index}`}\r\n                loading={isLoading}\r\n                {...item}\r\n            />\r\n        ))\r\n    };\r\n\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex align-center justify-between mb-40\">\r\n                <h1>{searchValue ? `Поиск по запросу: \"${searchValue}\"` : 'Все кроссовки'}</h1>\r\n                <div className=\"search-block d-flex\">\r\n                    <img src=\"/img/search.svg\" alt=\"Search\" />\r\n                    {\r\n                        searchValue && <img // Если \"seacrhValue\" существует отобрази кнопку \"clear\"\r\n                            onClick={() => setSearchValue('')} // по клику на кнопку очистить state\r\n                            className=\"clear cu-p\"\r\n                            src=\"/img/button-remove.svg\"\r\n                            alt=\"Clear\" />\r\n                    }\r\n                    <input // контролируемый input т.к. в свойстве value значение из state\r\n                        onChange={onChangeSearchInput}\r\n                        placeholder=\"Поиск...\"\r\n                        value={searchValue} />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">{renderItems()}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import axios from 'axios'\r\nimport React from 'react'\r\nimport { AppContext } from '../App'\r\nimport Card from '../component/Card'\r\n\r\nfunction Orders() {\r\n    const { onAddToCart, onAddToFavorite } = React.useContext(AppContext)\r\n    const [orders, setOrders] = React.useState([]);\r\n    const [isLoading, setIsLoading] = React.useState(true)\r\n\r\n\r\n    React.useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const { data } = await axios.get('https://6147374665467e0017384aa5.mockapi.io/order');\r\n                setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []));\r\n                setIsLoading(false)\r\n            } catch (error) {\r\n                alert('Ошибка пр запросе заказов')\r\n            }\r\n        })()\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex align-center justify-between mb-40\">\r\n                <h1>Мои заказы</h1>\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">\r\n                {(isLoading ? [...Array(8)] : orders).map((item, id) => (\r\n                    <Card\r\n                        key={`${id}`}\r\n                        loading={isLoading}\r\n                        {...item}\r\n                    />\r\n                ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders\r\n","import axios from \"axios\";\nimport React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Drawer from \"./component/Drawer\";\nimport Header from \"./component/Header\";\nimport Favorites from \"./pages/Favorites\";\nimport Home from \"./pages/Home\";\nimport Orders from \"./pages/Orders\";\n\nexport const AppContext = React.createContext({});\n\nfunction App() {\n\n  const [items, setItems] = React.useState([]); // хук для карточек с кроссовками\n  const [cartItems, setCartItems] = React.useState([]); // хук для товаров в корзине\n  const [favorites, setFavorites] = React.useState([]); // хук для товаров в избранное\n  const [searchValue, setSearchValue] = React.useState(''); // хук для поиска товаров\n  const [cartOpened, setCartOpened] = React.useState(false) // хук для открытия / закрытия корзины\n  const [isLoading, setIsLoading] = React.useState(true)\n\n  React.useEffect(() => { // этот хук следит, если открыта корзина, убираем глобальный скролл\n    const body = document.querySelector('body');\n    body.style.overflow = cartOpened ? 'hidden' : 'auto';\n  }, [cartOpened]);\n\n  React.useEffect(() => { // оборачиваем запрос хуком \"useEffect\", чтобы рендер произошел только один раз, при первой загрузке страницы\n\n    async function fetchData() {\n      try {\n        const [cartResponse, favoritesResponse, itemsResponse] = await Promise.all([\n          axios.get('https://6147374665467e0017384aa5.mockapi.io/cart'),\n          axios.get('https://6147374665467e0017384aa5.mockapi.io/favorites'),\n          axios.get('https://6147374665467e0017384aa5.mockapi.io/items')\n        ])\n        // const cartResponse = await axios.get('https://6147374665467e0017384aa5.mockapi.io/cart');\n        // const favoritesResponse = await axios.get('https://6147374665467e0017384aa5.mockapi.io/favorites'); // запрашиваем \"cart\" с сервера и рендерим корзину\n        // const itemsResponse = await axios.get('https://6147374665467e0017384aa5.mockapi.io/items');\n\n        setIsLoading(false)\n        setCartItems(cartResponse.data);\n        setFavorites(favoritesResponse.data);\n        setItems(itemsResponse.data);\n      } catch (error) {\n        alert(\"Ошибка при запросе данных\")\n      }\n    }\n\n    fetchData()\n\n  }, []);\n\n  const onAddToCart = async (obj) => { // когда произойдет клик в \"Card\", хук \"setCartItems\" запушит в массив новый \"obj\"\n    try {\n      const findItem = cartItems.find(item => Number(item.parentId) === Number(obj.id))\n      if (findItem) {// если в \"cartItems\" есть хотя бы один \"item\" имеет такой \"id\", который был при нажатии на кнопку \"plus\", то удалить продукт\n        setCartItems(prev => prev.filter(item => Number(item.parentId) !== Number(obj.id)))\n        await axios.delete(`https://6147374665467e0017384aa5.mockapi.io/cart/${findItem.id}`)\n      } else {\n        setCartItems(prev => [...prev, obj])\n        const {data} = await axios.post('https://6147374665467e0017384aa5.mockapi.io/cart', obj) // при добавлении товара в корзину отправить \"obj\" на сервер\n        setCartItems(prev => prev.map(item => {\n          if (item.parentId === data.parentId) {\n            return {\n              ...item,\n              id: data.id\n            }\n          }\n          return item\n        }))\n\n      }\n    } catch (error) {\n      alert('Ошибка при добавлении в корзину')\n    }\n\n\n  };\n\n  const onAddToFavorite = async (obj) => {\n    try {\n      if (favorites.find(favObj => favObj.id === obj.id)) { // если в стэйте \"favorites\" есть объект с \"id\" таким же как у объекта по которому совершили клик\n        axios.delete(`https://6147374665467e0017384aa5.mockapi.io/favorites/${obj.id}`);// отправь запрос на удаление\n        setFavorites(prev => prev.filter(item => Number(item.id) !== Number(obj.id)))//  перебрать стэйт и убрать из него объект, \"id\" которого, равен \"obj.id\"\n      } else {\n        const { data } = await axios.post('https://6147374665467e0017384aa5.mockapi.io/favorites', obj)// дождись ответа, чтобы получить и использовать новые данные а не старые\n        setFavorites(prev => [...prev, data])\n      }\n    } catch (error) {\n      alert('Не удалось добавить в фавориты')\n    }\n  }\n\n  const omRemoveItem = (id) => {\n    try {\n      axios.delete(`https://6147374665467e0017384aa5.mockapi.io/cart/${id}`) // при удалении товара , удалить с сервера\n      setCartItems(prev => prev.filter(item => item.id !== id))\n    } catch (error) {\n      alert('Ошибка при удалении из корзины')\n    }\n  }\n\n  const onChangeSearchInput = (event) => { // елси input изменится, отловить событие, и обновить state\n    setSearchValue(event.target.value)\n  }\n\n  const isItemsAdded = (id) => {\n    return cartItems.some(obj => Number(obj.parentId) === Number(id))\n  }\n\n  return (\n    <AppContext.Provider\n      value={{\n        items,\n        favorites,\n        cartItems,\n        isItemsAdded,\n        onAddToFavorite,\n        setCartOpened,\n        setCartItems,\n        onAddToCart\n      }}>\n      <div className=\"wrapper clear\">\n        <Drawer\n          onRemove={omRemoveItem}\n          onClose={() => setCartOpened(false)}\n          items={cartItems}\n          opened={cartOpened}\n        />\n        <Header onClickCart={() => setCartOpened(true)} />\n\n        <Route path=\"/\" exact>\n          <Home\n            cartItems={cartItems}\n            searchValue={searchValue}\n            setSearchValue={setSearchValue}\n            onChangeSearchInput={onChangeSearchInput}\n            items={items}\n            onAddToCart={onAddToCart}\n            onAddToFavorite={onAddToFavorite}\n            isLoading={isLoading}\n          />\n        </Route>\n        <Route path=\"/favorites\" exact>\n          <Favorites />\n        </Route>\n\n        <Route path=\"/orders\" exact>\n          <Orders />\n        </Route>\n\n\n      </div>\n    </AppContext.Provider>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport 'macro-css';\n\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}